colors: false
output: false

post-checkout:
  commands:
    clean:
      run: |
        # only run on branch switches (not file checkout)
        if [ "$3" = "1" ]; then
          bun run clean
        fi

post-merge:
  commands:
    clean:
      run: bun run clean

post-rewrite:
  commands:
    clean:
      run: bun run clean

pre-commit:
  parallel: true

  commands:
    format:
      glob: "**/*.{js,jsx,ts,tsx,json,jsonc,md,mdx,css,html,yaml,yml,toml}"
      run: bun run format:staged -- {staged_files} && git add {staged_files}

    lint:
      glob: "**/*.{ts,tsx,js,jsx,mjs,cjs}"
      run: bun run lint:staged -- {staged_files} && git add {staged_files}
